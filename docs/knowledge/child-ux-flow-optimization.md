# 子ども向けUXフロー最適化の知見

## 発見日
2025-07-02

## 背景
5歳児向けタイピング練習アプリにおいて、学習体験の流れを最適化する過程で得られた重要な知見。

## 重要な発見

### 1. タップ数削減の劇的効果

**課題**: 初期設計では3タップでゲーム開始
```
トップ → もじをうとう → コース選択 → レッスン選択 → ゲーム開始
```

**解決**: 2タップフローに変更
```
トップ → もじをうとう → 「どうぶつ (かんたん)」選択 → ゲーム開始
```

**学んだこと**:
- 子どもは「遊びたい」と思った瞬間から3回以上のタップは集中力を削ぐ
- 中間選択画面は迷子の原因
- コース情報とレッスン情報の統合表示が効果的

### 2. 全画面モーダルは体験破綻の元凶

**課題**: レベルアップ時の全画面オーバーレイ
- 学習の流れを完全に遮断
- 「やったー！」の瞬間に操作を強要
- 3秒待機 or 手動クローズが必要

**解決**: ヘッダー下のコンパクト通知
- 学習フローを止めない
- 4秒自動クローズ
- 適切な位置（レベル表示の下）に自然に表示

**学んだこと**:
- 子どもの達成感を祝いつつ、学習の勢いを止めてはいけない
- 通知の配置は文脈的に関連する場所（レベル表示の近く）が最適
- 自動クローズは子どもにとって親切な機能

### 3. コース境界の重要性

**課題**: 「つぎのれっすん」で全レッスンから検索
- どうぶつ → かぞく のようにコースをまたぐ
- 学習テーマが一貫しない

**解決**: コース内での次レッスン検索
- 同一テーマ内での連続学習
- コース完了でトップに戻る

**学んだこと**:
- 子どもは「どうぶつをやる」という明確な意図を持つ
- テーマの一貫性が学習効果を高める
- 境界の明確化が予測可能性を向上させる

## 情報設計の原則

### 表示優先度
1. **絵文字アイコン**: 最も直感的
2. **コース名 + 難易度**: 「どうぶつ (かんたん)」
3. **進捗情報**: 「2/5 クリア」
4. **詳細情報**: 削除または最小化

### 削除した要素
- 長い説明文
- 複数行のテキスト
- 個別レッスン名の詳細表示
- 中間選択画面

## 実装パターン

### 成功パターン

#### 1. コンパクト通知の実装
```typescript
// ヘッダー内の相対配置
<div className="relative flex items-center gap-4">
  <PlayerLevel compact />
  
  {levelUpData && (
    <LevelUpNotification
      isVisible={showLevelUpNotification}
      newLevel={levelUpData.level}
      newTitle={levelUpData.title}
      onClose={() => setShowLevelUpNotification(false)}
    />
  )}
</div>
```

#### 2. コース境界を守るナビゲーション
```typescript
const handleNext = () => {
  // 現在のコース内のレッスンのみから次を検索
  const courseLessons = typingLessons.filter(
    (lesson) => lesson.courseId === selectedLesson.courseId
  );
  // コース内での次レッスンまたはコース一覧に戻る
};
```

#### 3. 情報統合表示
```typescript
// コース + 難易度 + 進捗を1行に
<h3>
  {course.title} ({levelLabels[difficulty]})
</h3>
<p>{completedCount}/{totalCount} クリア</p>
```

### 失敗パターン（避けるべき）

❌ **複数段階の選択フロー**
```
選択1 → 選択2 → 選択3 → 実行
```

❌ **全画面を占有する達成通知**
```typescript
// 体験を阻害
<div className="fixed inset-0 z-50 bg-black/50">
```

❌ **コンテキストを無視した情報表示**
```typescript
// レッスン名だけ表示（どのコースか分からない）
<h1>{lesson.title}</h1>
```

## 測定可能な改善効果

### 定量的指標
- **タップ数**: 3 → 2 (33%削減)
- **画面占有率**: 100% → 0% (レベルアップ時)
- **中間離脱ポイント**: 2箇所削除

### 定性的効果
- 学習フローの一貫性向上
- 迷子になるリスクの削減
- 達成感と学習継続のバランス
- 親の「子どもが使いやすい」実感

## 他機能への応用

### この知見が適用できる場面
1. **他の学習コンテンツ**: えほんモード、PCパーツ学習
2. **設定画面**: 最小限の選択項目
3. **進捗表示**: 常時可視化 vs 邪魔しない通知
4. **ナビゲーション**: 文脈を保った移動

### 応用原則
- **即座性**: やりたいことにすぐ到達
- **文脈保持**: 関連性のある情報をまとめる
- **非侵入的**: 流れを止めずに情報提供
- **予測可能性**: 明確な境界と一貫したルール

## 今後の展開

### さらなる改善案
1. **音声フィードバック**: 視覚+聴覚での達成感
2. **学習パス提案**: 子どもの進捗に応じた推薦
3. **親向けダッシュボード**: 子どもの学習状況を非侵入的に確認

### 検証したい仮説
- 1タップでゲーム開始は可能か？
- 通知の表示時間は4秒が最適か？
- コース完了時の達成感演出は必要か？

## 参考実装

関連コンポーネント:
- `LevelUpNotification.tsx` - コンパクト通知の実装
- `TypingPractice.tsx` - 2タップフローの実装
- `LessonCard.tsx` - 情報統合表示の実装

関連ドキュメント:
- [タップ数削減の知見](./child-ux-tap-reduction.md)
- [子ども向けナビゲーション設計](./child-navigation-design.md)